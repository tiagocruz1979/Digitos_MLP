#include <SFML/Graphics.hpp>
#include <iostream>
#include <cmath>


std::vector<std::vector<double>> pesocamada1={
 {-2.04619765e-01,-3.80094349e-02,-1.69093490e-01,7.78776705e-02,-1.30255088e-01,1.72265589e-01,-1.47333100e-01,-1.14308685e-01,-1.43487826e-01,-2.14486599e-01,2.28082120e-01,-7.77622163e-02,2.20293760e-01,-7.47165978e-02,1.03656024e-01,8.11247826e-02}
,{-2.76483148e-01,1.70500994e-01,5.38562387e-02,2.97540762e-02,2.15273321e-01,-3.73117886e-02,3.65923420e-02,-2.61315316e-01,-1.58873126e-01,-1.54776946e-01,1.86247811e-01,-1.70767307e-02,-1.25616148e-01,1.53322414e-01,-2.29740053e-01,-7.15599209e-02}
,{4.00126092e-02,-1.46792471e-01,4.71027493e-01,-7.50131533e-02,-9.06875506e-02,-2.73569040e-02,-1.07672840e-01,1.54751241e-02,-6.11203387e-02,-2.34958664e-01,1.19148932e-01,-1.33341134e-01,-2.10767806e-01,2.10371718e-01,-3.09525490e-01,-6.84334710e-02}
,{-4.56611905e-03,1.07198372e-01,4.06805314e-02,-1.87056392e-01,2.38044143e-01,2.15546742e-01,2.36454993e-01,-1.15947098e-01,-1.88234006e-03,-8.78785923e-02,-4.79676515e-01,1.14574216e-01,-3.12133832e-03,2.44868293e-01,-1.72893137e-01,3.26621294e-01}
,{-3.49805385e-01,1.22574225e-01,4.36723143e-01,-1.17637582e-01,6.50654733e-02,-6.15496151e-02,1.42018497e-01,-2.51079172e-01,3.17133889e-02,-2.07663439e-02,2.17501298e-01,2.45745829e-03,1.95096090e-01,-3.88409168e-01,6.22572079e-02,3.06325942e-01}
,{1.54321879e-01,-1.95043445e-01,5.45390487e-01,2.31765211e-01,-5.69322765e-01,8.16608742e-02,-8.47025067e-02,1.55472457e-01,1.80980757e-01,7.42489249e-02,4.45263423e-02,1.01403356e-01,-8.38375688e-02,-2.65618917e-02,2.32034430e-01,3.41677815e-02}
,{-1.50506154e-01,5.96732274e-02,3.82546008e-01,2.13609084e-01,-1.51355341e-01,-1.19787037e-01,-2.04953521e-01,-1.37821972e-01,3.47576916e-01,-1.19820990e-01,-2.70426244e-01,-1.17955700e-01,-6.98838308e-02,1.05219565e-01,1.83953628e-01,-1.06446959e-01}
,{1.40078112e-01,8.74691457e-02,1.78302988e-01,2.09948614e-01,-5.90802617e-02,8.55783671e-02,3.46709825e-02,2.40675807e-01,2.97792405e-01,-1.82236731e-01,-7.70861953e-02,-8.31570178e-02,-8.77597332e-02,5.46171181e-02,-1.86271295e-01,-1.36290640e-01}
,{2.34240927e-02,-2.50095963e-01,-4.13769558e-02,-3.03965826e-02,-3.22409943e-02,-1.99081749e-01,-6.99011534e-02,1.90977514e-01,-1.93955347e-01,-2.08531581e-02,-7.59525374e-02,-1.84588894e-01,-4.21607792e-02,1.78390384e-01,-2.03880668e-01,1.43237919e-01}
,{-1.59436747e-01,-1.69070467e-01,1.62470445e-01,-2.60338992e-01,-2.20972598e-01,-4.79080863e-02,1.84899837e-01,7.28994906e-02,2.49811828e-01,2.45311156e-01,-1.25076905e-01,-3.15329641e-01,-3.79954055e-02,1.28982335e-01,-3.04601848e-01,-8.23211297e-02}
,{1.20082736e-01,2.46725842e-01,2.37124741e-01,-2.19556615e-01,3.46392579e-02,6.99022487e-02,9.94357839e-02,1.49008393e-01,2.28606492e-01,-1.80209443e-01,-1.27913922e-01,-2.96115965e-01,-3.15247148e-01,1.99698120e-01,6.20693751e-02,9.74457338e-02}
,{-4.11608107e-02,-1.74007982e-01,4.45586085e-01,1.34538651e-01,2.00408444e-01,-1.61335140e-01,-2.10425273e-01,-6.31993264e-02,4.68755588e-02,-2.77458988e-02,-1.43126741e-01,-5.17262779e-02,2.24385083e-01,2.74732709e-01,3.07057887e-01,1.39602453e-01}
,{2.59257585e-01,-3.22267003e-02,2.98116684e-01,-4.03643288e-02,-8.69074240e-02,-4.30648297e-01,4.67441559e-01,-9.00418013e-02,3.32417518e-01,-4.62477608e-03,4.61677536e-02,2.50477493e-01,1.22164674e-01,-1.22058988e-01,-2.89559990e-01,2.23175749e-01}
,{7.09864544e-04,-6.70502940e-03,-7.15330755e-03,-3.74718994e-01,-3.25309724e-01,-8.48336592e-02,7.65750408e-02,-2.06568897e-01,-3.66647542e-02,-2.83851206e-01,4.51478809e-02,-1.44357353e-01,-2.52910733e-01,-6.31343126e-02,2.93686956e-01,-3.47683243e-02}
,{6.38204888e-02,-1.87829986e-01,1.00722155e-02,-1.55480787e-01,-1.28203332e-01,1.62554935e-01,3.94577309e-02,1.22611284e-01,4.11262689e-03,-1.44478425e-01,2.91149557e-01,-3.39419395e-01,-1.77412406e-01,-5.30867390e-02,3.16027820e-01,-3.64623636e-01}
,{-1.83548883e-01,1.82349354e-01,1.73144683e-01,-2.18896955e-01,-2.56877661e-01,1.00350818e-02,-2.12188020e-01,2.35574305e-01,-6.31099790e-02,-2.12272614e-01,2.18469217e-01,1.55742437e-01,-6.50492013e-02,-9.23433900e-02,1.84326336e-01,5.00832312e-02}
,{2.25737877e-02,2.07888544e-01,-8.73559117e-02,-9.70841572e-03,1.26559651e-02,-1.98102426e-02,-2.07026780e-01,-1.14132851e-01,9.92197841e-02,-7.00204149e-02,-1.09460630e-01,1.75312459e-01,-1.44022912e-01,-7.93997720e-02,8.72935355e-02,1.15084060e-01}
,{1.40252396e-01,-1.67015836e-01,-1.90659836e-01,-2.25870330e-02,-6.94320258e-03,2.86127720e-02,8.09503123e-02,-2.45395944e-01,-2.06595570e-01,-1.48086414e-01,4.25397962e-01,1.73048496e-01,-1.95269343e-02,-9.01850834e-02,2.28848740e-01,1.90357476e-01}
,{1.10492334e-01,5.47082862e-03,-2.25592628e-01,2.52814919e-01,1.65122040e-02,1.30357891e-01,-4.32827324e-01,-1.28316388e-01,-2.79681265e-01,1.36200309e-01,-2.51250356e-01,1.94011871e-02,-1.14872441e-01,3.69578630e-01,7.45237246e-02,1.15264058e-02}
,{2.81040341e-01,-1.32685490e-02,-2.42419928e-01,3.22581530e-01,-3.24178308e-01,3.58917236e-01,-1.91123574e-03,-1.18040606e-01,-4.26580489e-01,-3.26772213e-01,7.33791068e-02,2.78015912e-01,1.98300853e-01,-1.06681876e-01,-2.35760286e-01,1.85761526e-01}
,{-2.06548408e-01,-2.00736430e-02,-2.31223568e-01,-6.79064617e-02,1.87110841e-01,3.17410052e-01,4.81985748e-01,1.49933934e-01,1.03434853e-01,-2.01866165e-01,-1.54884622e-01,4.87456582e-02,6.64321855e-02,1.97580725e-01,-9.27546620e-02,1.22068048e-01}
,{2.14352012e-01,3.81226689e-02,-2.45261610e-01,-7.48349190e-01,2.12127380e-02,-3.79901603e-02,5.33012867e-01,-2.03167766e-01,1.00984208e-01,-1.20730884e-02,-8.65043849e-02,-1.40303150e-01,-3.49139661e-01,4.45971787e-01,2.61884063e-01,9.81025696e-02}
,{-2.01566622e-01,9.00370330e-02,-1.70730442e-01,-5.58327854e-01,4.79261652e-02,1.34194335e-02,-7.91009814e-02,2.33567834e-01,2.79412687e-01,-1.11181282e-01,6.74516559e-02,-1.86388027e-02,-1.44820467e-01,4.62178588e-02,3.72214347e-01,-1.10651717e-01}
,{1.71270832e-01,-8.48131031e-02,8.49188119e-02,-1.67386308e-01,1.46721244e-01,-2.13399738e-01,3.19375247e-02,7.09955096e-02,-1.72922276e-02,1.25755996e-01,-1.04613498e-01,2.05138177e-01,1.03998482e-01,-2.30240330e-01,2.69675493e-01,-2.63561189e-01}
,{2.49298766e-01,-1.21577941e-01,1.13407269e-01,-3.72289531e-02,2.39520550e-01,2.67160237e-01,-1.93032593e-01,-4.89835292e-02,1.71827182e-01,6.66143373e-02,-1.16657980e-01,2.62613017e-02,-1.64408848e-01,8.30168277e-02,1.38408959e-01,-6.36522239e-03}
,{7.86727965e-02,-2.12902620e-01,-8.68819058e-02,1.89675778e-01,1.97878733e-01,1.05732225e-01,4.02280800e-02,1.52549475e-01,-4.32458401e-01,1.45452082e-01,1.87962338e-01,-9.11217630e-02,-9.16877985e-02,2.10224345e-01,-1.73560619e-01,1.04259543e-01}
,{-3.09310764e-01,7.03910217e-02,-2.59865914e-02,1.67644158e-01,-2.10907742e-01,1.43926024e-01,-2.70030499e-01,1.11412466e-01,-3.16921979e-01,4.02164040e-03,-2.66189724e-01,-2.56705940e-01,-2.44573116e-01,4.16562021e-01,-8.98614377e-02,-1.38054147e-01}
,{2.49436144e-02,-7.63916001e-02,1.21499591e-01,3.32186930e-02,-2.41176084e-01,6.32248759e-01,-1.71472430e-01,-6.12723231e-02,2.45590955e-02,-1.34783490e-02,1.76720798e-01,2.63997555e-01,-1.36704087e-01,-1.37256756e-02,-3.60280275e-01,6.12853505e-02}
,{3.33866403e-02,7.05297142e-02,2.70129800e-01,1.97956786e-01,3.78728658e-01,2.22111821e-01,9.42752734e-02,-1.19350925e-01,-8.76556933e-02,8.82479623e-02,5.50154708e-02,2.40332678e-01,-2.54969627e-01,-1.73923522e-01,2.27545068e-01,-1.25783205e-01}
,{1.19955122e-01,4.65511121e-02,8.70628506e-02,-2.14928403e-01,1.77776646e-02,1.69496313e-01,9.86031517e-02,1.14856690e-01,2.86162086e-02,3.14432859e-01,-3.11384380e-01,3.12348545e-01,-1.43058404e-01,4.07457083e-01,7.73007423e-02,8.89371801e-03}
,{1.61338728e-02,-1.36669517e-01,-6.00824654e-02,-1.03784896e-01,2.29616897e-04,4.27248999e-02,-2.35115215e-01,-2.02846915e-01,2.91413255e-02,1.38360962e-01,-2.55540133e-01,1.40035108e-01,2.41019994e-01,5.63344717e-01,-1.46372020e-01,-8.88957158e-02}
,{9.01199412e-03,1.53244957e-01,-2.34707206e-01,-2.85135098e-02,-1.23644590e-01,-4.34724353e-02,-9.60524157e-02,1.90230340e-01,-1.71447650e-01,-1.35155365e-01,2.50404291e-02,-2.66703784e-01,3.23590357e-03,5.18949777e-02,-2.29694948e-01,1.72526225e-01}
,{-4.44470644e-02,-1.63020417e-01,1.82376057e-01,-1.74355581e-01,2.43152380e-01,2.03428507e-01,1.47208005e-01,-2.02447474e-02,-2.58087188e-01,-2.81394776e-02,-1.63672268e-01,1.35756955e-01,1.28014073e-01,-2.58064091e-01,-2.20030352e-01,1.01768732e-01}
,{-2.42902219e-01,-7.90321529e-02,1.01322256e-01,3.07029456e-01,2.61930209e-02,-2.76931316e-01,-1.91411465e-01,6.71220422e-02,-1.02573335e-02,1.79544896e-01,-2.23587498e-01,-2.09882343e-03,3.78954172e-01,-2.05871128e-02,-7.57482722e-02,-8.85067806e-02}
,{1.10419065e-01,4.39584792e-01,-3.57513428e-02,6.54028878e-02,-1.24550171e-01,1.51098773e-01,-7.79274926e-02,-4.96830195e-02,-1.93140171e-02,-1.82229072e-01,-2.97666583e-02,-3.74220721e-02,2.66498983e-01,2.47971386e-01,-4.10659835e-02,-2.31202379e-01}
,{-1.32167682e-01,3.81415449e-02,4.08023208e-01,9.89999548e-02,1.52836472e-01,4.57462549e-01,-6.99874340e-03,-1.94797248e-01,9.82793272e-02,3.65009159e-01,8.70412439e-02,1.12988085e-01,-1.30623981e-01,-3.42645645e-01,-2.69341916e-02,1.13526307e-01}
,{-3.96749116e-02,-3.29381526e-01,5.17927948e-03,-2.05341175e-01,2.40107387e-01,2.99946517e-01,-3.36214006e-02,2.11833000e-01,4.28885907e-01,2.75294304e-01,-2.14995630e-03,3.71801406e-01,-1.92825362e-01,-1.39599547e-01,-2.22592190e-01,-1.84476495e-01}
,{-2.88068354e-01,-4.81803976e-02,-2.41314303e-02,-5.29706143e-02,2.75848776e-01,7.16227666e-02,3.92335728e-02,-2.72163659e-01,-1.33114621e-01,-1.34795785e-01,3.32519189e-02,2.75675565e-01,4.24254775e-01,-3.89172845e-02,-9.80514064e-02,-2.61566281e-01}
,{-3.29676829e-02,2.54578471e-01,2.50462722e-02,3.45174193e-01,7.32799023e-02,-3.25651675e-01,1.99555561e-01,-1.81247443e-01,-2.66168416e-01,1.40764471e-02,2.19033495e-01,2.81092197e-01,3.67998660e-01,5.27101815e-01,1.86681421e-03,-2.09743246e-01}
,{-1.78978503e-01,-7.17905909e-02,-1.65690780e-01,-3.44835222e-02,-1.99941009e-01,-2.23119259e-01,-1.68507874e-01,-8.60542506e-02,2.33275712e-01,-2.73592532e-01,7.35867023e-02,-2.22220048e-01,1.67338014e-01,1.64900601e-01,-2.06028268e-01,2.19827175e-01}
,{1.45155996e-01,-1.67095423e-01,-2.62637317e-01,-1.67681083e-01,2.51805872e-01,2.67956872e-02,-2.74030119e-01,1.60876632e-01,-2.27199733e-01,-1.21661350e-02,2.52678432e-02,1.01976112e-01,8.53664055e-02,1.74269482e-01,-5.96576072e-02,-2.71360248e-01}
,{-9.15860459e-02,-1.98403180e-01,-5.24241067e-02,-2.51825780e-01,3.58854495e-02,2.21163645e-01,1.39725909e-01,-1.37261748e-01,1.15517870e-01,-3.40812504e-02,-7.96823576e-03,-3.79009694e-02,5.07177353e-01,-1.32620648e-01,1.66928619e-01,-1.17504366e-01}
,{2.68034548e-01,5.13490558e-01,-5.36963463e-01,-4.34944816e-02,-1.67088807e-01,-2.64358371e-01,-5.57611644e-01,4.93154228e-02,-1.87790275e-01,4.58355576e-01,2.39152670e-01,1.62430763e-01,-6.39299080e-02,1.01258017e-01,-1.42863795e-01,-2.27132112e-01}
,{-2.82808449e-02,2.88932361e-02,-3.97881925e-01,4.89592887e-02,1.54644758e-01,-3.95037569e-02,-4.75747854e-01,-1.80750042e-01,2.85539627e-01,2.41163507e-01,2.96087921e-01,6.49545372e-01,5.89215308e-02,1.07627079e-01,-1.70169413e-01,-2.48079225e-01}
,{1.00274667e-01,1.07788846e-01,-5.50304465e-02,6.20318390e-02,-1.96379438e-01,3.38958383e-01,-1.26861885e-01,-2.70149708e-02,-2.67022997e-01,-2.66335756e-01,3.34780633e-01,2.79566851e-02,2.99567729e-01,-1.16031177e-01,-6.57084957e-02,-3.08458090e-01}
,{-4.81794775e-02,-2.42757574e-01,1.03124179e-01,1.33890316e-01,1.35270789e-01,-2.42134631e-02,9.86613985e-03,1.42438173e-01,-2.29140550e-01,1.39196068e-01,2.66731232e-01,1.75196433e-03,1.71907365e-01,-3.31187338e-01,7.08653182e-02,1.23651646e-01}
,{-1.04663424e-01,-1.57631248e-01,4.22263026e-01,2.22570777e-01,-5.37618771e-02,-8.38152096e-02,1.68126687e-01,3.11893821e-02,-3.04876059e-01,1.50835216e-01,5.11839092e-01,-2.76087914e-02,-1.15415841e-01,-2.01027796e-01,1.15264639e-01,7.76537806e-02}
,{-8.47374797e-02,-7.34310672e-02,1.75224051e-01,-9.38586332e-03,1.30788788e-01,9.53546911e-02,-2.18256153e-02,1.02292508e-01,-1.42688781e-01,1.02346182e-01,2.63585061e-01,-2.56547809e-01,-2.19711140e-01,9.28608775e-02,-1.24365896e-01,-6.00297600e-02}
,{-1.76962674e-01,-2.66789466e-01,-2.47346014e-02,2.74721477e-02,-2.60669775e-02,1.58692941e-01,6.23835176e-02,-1.54437304e-01,-9.27724615e-02,1.79190323e-01,2.07424030e-01,1.08002901e-01,1.61218747e-01,1.50154099e-01,1.13610893e-01,8.55276361e-03}
,{1.43327668e-01,-1.60802573e-01,-1.61852911e-01,-1.50920689e-01,-2.25158930e-01,2.06367821e-01,1.43351659e-01,-4.79893088e-02,3.79810750e-01,-2.82569584e-02,2.30799004e-01,-4.61147241e-02,3.58834803e-01,1.39992163e-01,-1.97162122e-01,-1.73519552e-01}
,{2.08669201e-01,3.55498850e-01,-1.87802851e-01,1.74408376e-01,1.72742695e-01,4.54691909e-02,-2.14266360e-01,-7.31932968e-02,-1.69117823e-02,-1.36771658e-02,-2.73542237e-02,-1.73028082e-01,7.75742754e-02,-4.89134304e-02,-6.35443777e-02,2.74993598e-01}
,{-3.65128964e-01,-2.07461819e-01,-1.45501256e-01,2.29416668e-01,2.67285645e-01,2.99454890e-02,-3.33223455e-02,-1.75796926e-01,2.94909596e-01,6.69293851e-02,-9.29815695e-02,-1.09044418e-01,-4.08254843e-03,-3.83219495e-02,-2.68959284e-01,-8.07959512e-02}
,{-3.14472355e-02,2.13168934e-01,-3.25832754e-01,2.76375145e-01,-1.92625836e-01,-4.79482353e-01,-5.22489510e-02,-2.52619982e-01,2.63075996e-02,-5.36770642e-01,-1.78694315e-02,-2.22559303e-01,2.15973020e-01,5.58919273e-03,-1.80077001e-01,1.25292495e-01}
,{-4.87678237e-02,1.11127608e-01,-2.61391997e-01,-1.74997691e-02,4.07788269e-02,-1.88481152e-01,8.37061554e-02,-2.49840289e-01,-1.85715988e-01,1.64584652e-01,4.18402970e-01,1.84185039e-02,-2.05931187e-01,-1.78693667e-01,1.90699905e-01,2.83418298e-01}
,{-8.42881948e-03,-3.29944193e-01,-1.25153616e-01,-6.54732212e-02,6.85387924e-02,9.49358568e-02,8.24602172e-02,8.26566219e-02,-1.62376687e-02,2.30555609e-02,6.13044128e-02,2.45031975e-02,-2.19896764e-01,-1.25391439e-01,6.73698187e-02,1.32733926e-01}
,{-2.22632259e-01,-2.58372039e-01,3.81534174e-02,-4.30590436e-02,-1.51254069e-02,4.50556464e-02,-2.92271346e-01,2.41525769e-02,-7.23431855e-02,5.53491991e-04,1.74483851e-01,7.30983019e-02,4.55687828e-02,-1.38532564e-01,2.17198893e-01,-6.65923655e-02}
,{7.82258660e-02,-1.40890077e-01,-2.59566307e-01,-4.85157855e-02,-1.98011726e-01,8.31807479e-02,1.54908791e-01,2.64657915e-01,-1.95550904e-01,-1.63976997e-01,-9.22422484e-02,5.81993125e-02,2.18124881e-01,-9.66588706e-02,-2.67279506e-01,1.88160464e-01}
,{-1.86262075e-02,-1.97258472e-01,-2.10892521e-02,2.69062787e-01,6.35027960e-02,-1.79430947e-01,-2.05139033e-02,-2.08833992e-01,-1.72218066e-02,-6.98878467e-02,1.17321581e-01,2.10814506e-01,1.58795416e-01,-1.58852905e-01,1.07288696e-01,5.79406358e-02}
,{-2.53234088e-01,-4.16251607e-02,2.45321050e-01,1.09500207e-01,1.71690881e-01,7.32369572e-02,5.36441386e-01,1.72735840e-01,1.30965322e-01,-1.77221850e-01,2.62551844e-01,-8.64673033e-02,-1.95470452e-01,2.51253068e-01,9.00854915e-02,3.46855700e-01}
,{3.54135126e-01,-7.89277721e-03,2.39081591e-01,4.50406164e-01,6.25231564e-02,1.18289553e-01,8.06837156e-02,-1.17599681e-01,1.50019035e-01,-1.99178085e-01,2.69149672e-02,-2.42766961e-01,-1.62608385e-01,-7.72264600e-02,1.09033905e-01,6.19334221e-01}
,{-1.82998180e-01,-1.72612116e-01,-3.06672871e-01,9.72357765e-02,-3.76994967e-01,8.42570662e-02,5.19107431e-02,1.64772272e-02,2.29885336e-02,4.39901352e-01,-1.25104422e-02,-3.61424088e-01,3.01524233e-02,-8.79339501e-02,-1.53070003e-01,7.17223138e-02}
,{-2.73905843e-01,-4.19951707e-01,-1.54365450e-01,9.04220119e-02,-2.12408066e-01,-7.61260092e-02,-7.61825368e-02,-2.01531947e-01,1.58474773e-01,3.45937908e-01,1.26081873e-02,-3.22772525e-02,-2.39614770e-01,8.62762481e-02,1.19422369e-01,-1.22869022e-01}
,{-2.53915757e-01,-3.69101137e-01,-1.53212165e-02,-1.69594824e-01,-4.98077385e-02,6.86212769e-03,-2.12165266e-01,2.71452606e-01,5.38268328e-01,1.30002677e-01,-1.55995920e-01,2.22841710e-01,-3.00930198e-02,-1.81767702e-01,-2.74450425e-02,-2.60605842e-01}
,{-9.05645192e-02,-1.56914275e-02,-2.67441154e-01,2.08363786e-01,1.91491857e-01,-7.58638680e-02,8.82810280e-02,-2.10507154e-01,1.94397897e-01,-3.55585545e-01,-2.24371642e-01,1.14414722e-01,1.14231534e-01,6.05906593e-03,-1.85328245e-01,-1.20495684e-01}
};

std::vector<double>bias_camada1={-0.00445078,-0.01362575,0.03507545,-0.01753582,-0.00622232,-0.00629501,-0.02273533,0.0,-0.00991877,0.01619913,0.01810258,-0.03059885,0.00670366,0.03465822,0.00672596,0.00568715};


 std::vector<std::vector<double>> pesocamada2={
 {0.25351495,0.23348033,-0.10266475,0.22753616,-0.44942832,0.34523463,0.40270418,-0.23145129,0.6388984,0.26421353}
,{0.15381874,0.31269637,-0.28275564,0.08245997,-0.614451,-0.44007728,0.44894215,0.3957448,0.4130931,-0.4625901}
,{-0.24856229,-0.856836,-0.54188913,0.136972,-0.39613402,0.61335474,-0.46327752,0.5838413,-0.35117024,0.0690356}
,{-0.08275471,0.37775546,0.0872348,0.0785243,0.11103488,0.48021784,0.66087496,-0.2909645,-0.5142086,-0.5061812}
,{-0.4479741,-0.5772186,0.2351035,0.17254966,-0.04561677,-0.8945216,-0.01654625,0.18024385,-0.04256281,-0.23337686}
,{-0.67600644,0.4291271,-0.39224723,0.12496138,0.46554524,-0.29472864,-0.16176407,-0.27223504,0.608552,0.60587406}
,{-0.6260086,0.55252934,-0.4424153,0.33768594,-0.09130307,-0.23317035,0.00548934,-0.11118162,-0.6363506,0.3079375}
,{-0.15406865,0.19691414,0.11674315,-0.2163114,-0.02952993,0.4582994,-0.1495209,-0.34342286,0.04721856,-0.09886199}
,{-0.3694456,0.15269382,0.99401826,-0.05693965,-0.19837812,-0.00998464,-0.10918864,0.3670052,-0.02743064,-0.59599864}
,{0.01405038,-0.5731136,0.0295206,0.07020343,-0.28407994,0.1543069,0.74999857,-0.49650145,0.3933619,0.03201355}
,{0.23059016,-0.11477794,0.3052218,0.24825418,0.20748852,-0.14424099,0.2877387,-0.16130155,0.3838906,-0.81945866}
,{0.22440532,0.541797,-0.51660657,-0.7033292,-0.07543973,-0.42918864,-0.1789136,0.44250613,-0.37551948,-0.1120998}
,{0.31566858,-0.4210657,-0.3522058,-0.47533387,0.9917308,-0.28513438,-0.24782877,0.24520771,-0.22138654,0.12580617}
,{0.6830523,-0.15939374,0.05176589,-0.6990597,0.6164801,0.18687466,-0.25439608,0.24136904,-0.10821088,0.03571998}
,{-0.3638911,0.5342891,-0.37961644,0.46726415,-0.393421,-0.57493114,-0.12829645,-0.13465568,-0.34763655,0.41620365}
,{0.33336866,-0.3921697,0.4398144,0.08554417,-0.8009739,0.16726094,-0.38281435,-0.5892343,0.2049919,0.04658838}
};

std::vector<double>bias_camada2={0.05817642,-0.07043219,-0.03901502,-0.02430158,-0.000416,-0.00904918,0.02694858,0.01481982,0.06018085,-0.0169128};

class Neuronio
{
    int qEntrada = 0;
    double pesoEntrada[100];
    Neuronio *neuroEntrada[100];
    double valor=0.0;
    double bias=0.0;
    int indice=0;

    public:

    Neuronio(int qEntrada, double bias)
    {
        this->qEntrada = qEntrada;
        this->bias = bias;

    }

    setValor(double valor)
    {
        this->valor = valor;
    }
    double getValor()
    {
        return this->valor;
    }

    somaValor(double valor)
    {
        this->valor=this->valor+valor;
    }

    setNeuroEntrada(Neuronio *neuro, double peso)
    {
        this->neuroEntrada[indice] = neuro;
        this->pesoEntrada[indice] = peso;
        indice++;
    }

    double getPeso(int i )
    {
        return pesoEntrada[i];
    }

    Neuronio* getNeuroSaida(int indice)
    {
        return neuroEntrada[indice];
    }

    int getQuantSaida()
    {
        return this->indice;
    }

    double somaPonderadaPBias()
    {
        double soma = 0.0;
        for(int i = 0 ; i < qEntrada ;i++)
        {
            std::cout << "i = " << i << '\n';
            soma+=neuroEntrada[i]->getValor()*pesoEntrada[i];
        }
        return soma+this->bias;
    }

    double relu(double v)
    {
        return (v<0)?0:v;
    }

    double softMax(double somaExp)
    {
        return std::exp(this->getValor()) / somaExp;
    }
};

void SoftMax(std::vector<Neuronio*> &camada)
{
    int tam = camada.size();
    double somaExp = 0.0;
    for (int i = 0 ; i < tam ; i++)
    {
        Neuronio* n = camada.at(i);
        somaExp+= std::exp(n->getValor());
    }
    for (int i = 0 ; i < tam ; i++)
    {
        Neuronio* n = camada.at(i);
        n->setValor(std::exp(n->getValor())/somaExp);
    }

}

int classificacao(std::vector<Neuronio*> saida)
{
    int tam = saida.size();
    int idx = 0;
    double maior = 0.0;
    for(int i = 0 ; i < tam ; i++)
    {
        Neuronio* n = saida.at(i);
        double valor = n->getValor();
        if(valor>maior)
        {
            maior = valor;
            idx = i;
        }
    }
    return idx;
}


// atualiza valores da camada com a função de ativação relu
void atualizaCamadaRELU(std::vector<Neuronio*> camada)
{
    int tam = camada.size();
    for(int i = 0 ; i < tam;i++)
    {
        Neuronio *n = camada.at(i);
        double soma = n->somaPonderadaPBias();
        n->setValor(n->relu(soma));
    }
}

//atualiza valores da camada com a função de ativação softmax
void atualizaCamadaSoftmax(std::vector<Neuronio*> camada)
{
int tam = camada.size();
double somaExp = 0.0;
for(int i = 0 ; i < tam;i++)
{
    Neuronio *n = camada.at(i);
    double soma = n->somaPonderadaPBias();
    n->setValor(soma);
    somaExp+=std::exp(soma);
}
// aplicar função softmax na camada de saída
SoftMax(camada);
}


int main()
{

//montagem da rede neural

//Camada de entrada - setar valores
std::vector<Neuronio*> camada1;
for(int i = 0 ; i < 64 ; i++)
{
    Neuronio *e = new Neuronio(0,0.0);
    e->setValor(0);
    camada1.push_back(e);
}

//Camada oculta - configurar quantidade de entradas e pesos de cada entrada
std::vector<Neuronio*> camada2;
for(int i = 0 ; i < 16;i++)
{
    Neuronio *h = new Neuronio(64,bias_camada1.at(i));
    for(int j = 0 ; j < 64 ;j++)
    {
        h->setNeuroEntrada(camada1.at(j),pesocamada1.at(j).at(i));
    }
    camada2.push_back(h);
}

//Camada de Saida
std::vector<Neuronio*> camada3;
for(int i = 0 ; i < 10;i++)
{
    Neuronio *s = new Neuronio(16,bias_camada2.at(i));
    for(int j = 0 ; j < 16 ;j++)
    {
        s->setNeuroEntrada(camada2.at(j),pesocamada2.at(j).at(i));
    }
    camada3.push_back(s);
}

// fim da montagem da rede neural

    // Definir o tamanho da janela
    sf::Vector2f windowSize(832.f,512.f);

    //criar a janela
    sf::RenderWindow window(sf::VideoMode(windowSize.x, windowSize.y), "Matriz de Desenho");

    //desenhar um botao de apagar
    // tamanho do botao padrao 1
    sf::Vector2f buttonSize_1(150.f,50.f);
    // criar o botao
    sf::RectangleShape buttonErase(buttonSize_1);
    buttonErase.setPosition(windowSize.x - buttonSize_1.x - 10.f,10.f);
    buttonErase.setFillColor(sf::Color::Blue);

    //criar o texto do botao
    sf::Font font;
    font.loadFromFile("consola.ttf"); // substitual arial ttf pelo caminho que deseja usar
    sf::Text txtButtonErase("Apagar",font,20);
    txtButtonErase.setPosition(buttonErase.getPosition() + sf::Vector2f(10.f,10.f)); // posiciona o texto dentro do botao
    txtButtonErase.setFillColor(sf::Color::White);

    //botao reconhecer
    // criar o botao
    sf::RectangleShape buttonRec(buttonSize_1);
    buttonRec.setPosition(windowSize.x - buttonSize_1.x - 10.f,buttonErase.getPosition().y + 70.f);
    buttonRec.setFillColor(sf::Color::Blue);

    //criar o texto do botao
    sf::Text txtButtonRec("Reconhecer",font,20);
    txtButtonRec.setPosition(buttonRec.getPosition() + sf::Vector2f(10.f,10.f)); // posiciona o texto dentro do botao
    txtButtonRec.setFillColor(sf::Color::White);

    // Criar o círculo do objetivo
    sf::RectangleShape pincel(sf::Vector2f(16.f,16.f));
    buttonRec.setPosition(windowSize.x - buttonSize_1.x - 10.f,buttonErase.getPosition().y + 70.f);
    buttonRec.setFillColor(sf::Color::Green);



    // Definir o tamanho da matriz de desenho
    const int matrixWidth = 32;
    const int matrixHeight = 32;

    // Criar a matriz de desenho
    sf::RectangleShape matrix[matrixWidth][matrixHeight];
    for (int i = 0; i < matrixWidth; i++)
    {
        for (int j = 0; j < matrixHeight; j++)
        {
            matrix[i][j].setSize(sf::Vector2f(16.f, 16.f));
            matrix[i][j].setPosition(i * 16.f, j * 16.f);
            matrix[i][j].setFillColor(sf::Color::White);
        }
    }

    //bool isDrawing = false; // verifica se o usuario esta desenhando

    //sf::Vector2i lastMousePos; // posição do mouse no último frame
    bool isButtonPressed = false;
    bool isDrawing = false;
    while (window.isOpen())
    {
        sf::Event event;
        sf::Vector2f lastMousePos;
        while (window.pollEvent(event))
        {
            if (event.type == sf::Event::Closed)
                window.close();

 // Verificar se o botão foi clicado
            if (event.type == sf::Event::MouseButtonPressed && event.mouseButton.button == sf::Mouse::Left)
            {
                sf::Vector2f mousePos = window.mapPixelToCoords(sf::Vector2i(event.mouseButton.x, event.mouseButton.y)); // Converter as coordenadas do mouse para as coordenadas da janela

                // Verificar se as coordenadas do mouse estão dentro dos limites do botão
                if (buttonErase.getGlobalBounds().contains(mousePos))
                {
                    // O botão foi clicado
                    std::cout << "Botao Apagar clicado!" << std::endl;
                        for (int i = 0; i < matrixWidth; i++)
                        {
                            for (int j = 0; j < matrixHeight; j++)
                            {
                                matrix[i][j].setFillColor(sf::Color::White);
                            }
                        }
                }

                // Verificar se as coordenadas do mouse estão dentro dos limites do botão
                if (buttonRec.getGlobalBounds().contains(mousePos))
                {
                    // O botão foi clicado
                    std::cout << "Botao reconhecer clicado!" << std::endl;


                    int soma = 0;
                    int vet[64];
                    int idx = 0;
                    int valor = 0;

                    for(int a = 0 ; a < 29 ;a+=4)
                    {
                        for(int b = 0 ; b < 29 ; b+=4)
                        {
                            for(int i = b; i<b+4;i++)
                            {
                                for(int j = a;j < a+4;j++)
                                {
                                    valor = (matrix[i][j].getFillColor()==sf::Color::Black)?1:0;
                                    soma+=valor;
                                }
                            }
                            vet[idx++] = soma;
                            soma = 0;
                        }
                    }

                    int tam = camada1.size();
                    for(int i = 0 ; i < tam ;i++)
                    {
                        camada1.at(i)->setValor(vet[i]);
                    }
                    atualizaCamadaRELU(camada2);
                    atualizaCamadaSoftmax(camada3);

                    int resultado = classificacao(camada3);
                    std::cout << "Reconhecido = " << resultado << '\n';

                    for(int v = 0; v < 64 ; v++)
                    {
                        std::cout << vet[v] << ",";
                    }
                    std::cout << '\n';


                }
            }

            // Verificar se o botão do mouse foi pressionado
            if (event.type == sf::Event::MouseButtonPressed)
            {
                //começar a desenhar
                isDrawing = true;

                // Obter a posição do mouse na janela
                sf::Vector2i mousePos = sf::Mouse::getPosition(window);

                // Encontrar o retângulo da matriz correspondente
                //int matrixX = mousePos.x / 16;
                //int matrixY = mousePos.y / 16;
                //if (matrixX >= 0 && matrixX < matrixWidth && matrixY >= 0 && matrixY < matrixHeight)
                //{
                    // Preencher o retângulo com a cor selecionada
                //    matrix[matrixX][matrixY].setFillColor(sf::Color::Black);
               // }

               for(int i = 0 ; i < 32;i++)
               {
                   for(int j = 0 ; j < 32;j++)
                   {
                       if(pincel.getGlobalBounds.intersects(ounds())
                       {

                       }
                   }
               }

            }
            else if (event.type == sf::Event::MouseButtonReleased)
            {
                // Parar de desenhar
                isDrawing = false;
            }
            else if (event.type == sf::Event::MouseMoved && isDrawing)
            {
                // Desenhar enquanto o usuário arrasta o mouse
                sf::Vector2i mousePos = sf::Mouse::getPosition(window);

                // Desenhar uma linha do último ponto para o ponto atual
                int matrixX1 = lastMousePos.x / 16;
                int matrixY1 = lastMousePos.y / 16;
                int matrixX2 = mousePos.x / 16;
                int matrixY2 = mousePos.y / 16;
                if (matrixX2 >= 0 && matrixX2 < matrixWidth && matrixY2 >= 0 && matrixY2 < matrixHeight)
                {
                    // Preencher o retângulo com a cor selecionada
                    matrix[matrixX2][matrixY2].setFillColor(sf::Color::Black);
                }

                lastMousePos = mousePos;
            }
        }

        window.clear();

        // Desenhar a matriz na janela
        for (int i = 0; i < matrixWidth; i++)
        {
            for (int j = 0; j < matrixHeight; j++)
            {
                window.draw(matrix[i][j]);
            }
        }

        //Desenhar o botão e o texto
        window.draw(buttonErase);
        window.draw(txtButtonErase);
        window.draw(buttonRec);
        window.draw(txtButtonRec);
        window.draw(pincel);

        window.display();
    }

    return 0;
}
